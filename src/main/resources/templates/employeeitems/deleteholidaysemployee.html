<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{home/layout_detail}">
<head>
<title>Welcome to my Spring Boot Project</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>

<body>
	<!-- Fragment-->
	<div layout:fragment="detail">

				<!-- Form -->
				<form action="#"
					th:action="@{~/employee/items/holidays/removeHolidays(holidaysId=${holidays.id})}"
					th:object="${holidays}" method="post">

					<!-- Right Column Delete holidays dates -->
					<div class="w3-col m8">
						<!-- Delete holidays dates  -->
						<div class="w3-card-4">
							<header class="w3-container w3-light-grey">
								<h3>Delete Holidays Dates</h3>

							</header>
							<div class="w3-container">
								<p>Delete holidays dates</p>
								<p></p>
								<hr>
								<div th:if="${message}"
									class="w3-panel w3-pale-red w3-center w3-display-container">
									<span onclick="this.parentElement.style.display='none'"
										class="w3-button ww3-pale-red w3-large w3-display-topright">x</span>
									<p th:text="${message}"></p>
								</div>
								<div th:if="${messageItemsDeleted}"
									class="w3-panel w3-pale-red w3-center w3-display-container">
									<span onclick="this.parentElement.style.display='none'"
										class="w3-button ww3-pale-red w3-large w3-display-topright">x</span>
									<p th:text="${messageItemsDeleted}"></p>
								</div>
								<span class="w3-large"
									th:text="${'Year: '+ holidays.year + ' (id: ' + holidays.id + ')'}"></span><br>

								<span style="color: blue"
									th:text="${'Holidays done: ' + holidays.daysHolidaysQty}"></span><br>

								<span
									th:text="${'Total holidays in '+ holidays.year +  ' maximun: '}"></span>
								<span style="font-weight: bold"
									th:text="${holidays.officialYearHolidaysQty}"></span> <br>
								<span
									th:with="result=${holidays.daysHolidaysQty - holidays.officialYearHolidaysQty}">
									<span style="color: red"
									th:text="${'Holidays balance: ' + result}"></span>
								</span>
								<p th:text="${ 'Holidays dates to delete:'}"></p>

								<th:block th:each="hol:${holidays.daysHolidays}">
									<div class="w3-card-4 w3-margin w3-padding-8 w3-light-grey"
										style="display: inline-block">

										<input class="w3-check w3-margin" type="checkbox"
											name="datesHolidays" th:value="${hol}" /> <span
											class="w3-large w3-monospace w3-margin-right"
											th:text="${#dates.format(hol,'dd-MMM')}"></span>

									</div>
								</th:block>
								
							</div>
							
							<br><hr>
							<button type="submit"
								class="w3-button w3-block w3-gray w3-center">Delete
								Holidays Dates</button>
						</div>
						<!-- End Delete holidays dates -->
					</div>
					<!-- End Right Column -->
			   
			   </form>
			   <!-- End Form -->

	</div>
	<!-- End Fragment-->

</body>
</html>